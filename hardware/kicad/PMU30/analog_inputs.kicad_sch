(kicad_sch
  (version 20231120)
  (generator "eeschema")
  (generator_version "8.0")
  (uuid "analog-inputs-uuid-001")
  (paper "A4")
  (title_block
    (title "PMU-30 Analog Inputs")
    (date "2024-12-22")
    (rev "A")
    (company "R2 m-sport")
    (comment 1 "20x Universal Analog/Digital Inputs")
    (comment 2 "Protection and Filtering")
  )

  (lib_symbols)

  (text "ANALOG INPUT SECTION"
    (exclude_from_sim no)
    (at 148.59 25.4 0)
    (effects
      (font
        (size 3.81 3.81)
        (bold yes)
      )
      (justify left bottom)
    )
    (uuid "text-title-001")
  )

  (text "INPUT TYPES SUPPORTED:"
    (exclude_from_sim no)
    (at 25.4 43.18 0)
    (effects
      (font
        (size 2.54 2.54)
        (bold yes)
      )
      (justify left bottom)
    )
    (uuid "text-types-header")
  )

  (text "- Switch Active Low (ground switching)"
    (exclude_from_sim no)
    (at 25.4 53.34 0)
    (effects
      (font
        (size 2.54 2.54)
      )
      (justify left bottom)
    )
    (uuid "text-type-1")
  )

  (text "- Switch Active High (+12V switching)"
    (exclude_from_sim no)
    (at 25.4 58.42 0)
    (effects
      (font
        (size 2.54 2.54)
      )
      (justify left bottom)
    )
    (uuid "text-type-2")
  )

  (text "- Rotary Switch (voltage divider)"
    (exclude_from_sim no)
    (at 25.4 63.5 0)
    (effects
      (font
        (size 2.54 2.54)
      )
      (justify left bottom)
    )
    (uuid "text-type-3")
  )

  (text "- Linear Analog (0-5V sensors)"
    (exclude_from_sim no)
    (at 25.4 68.58 0)
    (effects
      (font
        (size 2.54 2.54)
      )
      (justify left bottom)
    )
    (uuid "text-type-4")
  )

  (text "- Calibrated Analog (custom curves)"
    (exclude_from_sim no)
    (at 25.4 73.66 0)
    (effects
      (font
        (size 2.54 2.54)
      )
      (justify left bottom)
    )
    (uuid "text-type-5")
  )

  (text "- Frequency Input (RPM, speed)"
    (exclude_from_sim no)
    (at 25.4 78.74 0)
    (effects
      (font
        (size 2.54 2.54)
      )
      (justify left bottom)
    )
    (uuid "text-type-6")
  )

  (text "INPUT PROTECTION CIRCUIT (per channel):"
    (exclude_from_sim no)
    (at 25.4 96.52 0)
    (effects
      (font
        (size 2.54 2.54)
        (bold yes)
      )
      (justify left bottom)
    )
    (uuid "text-protection-header")
  )

  (text "R60-R79: 10K input resistor (current limiting)"
    (exclude_from_sim no)
    (at 25.4 106.68 0)
    (effects
      (font
        (size 2.54 2.54)
      )
      (justify left bottom)
    )
    (uuid "text-protect-1")
  )

  (text "C60-C79: 100nF filter capacitor (RC filter)"
    (exclude_from_sim no)
    (at 25.4 111.76 0)
    (effects
      (font
        (size 2.54 2.54)
      )
      (justify left bottom)
    )
    (uuid "text-protect-2")
  )

  (text "D60-D79: BAV99 dual diode (clamping)"
    (exclude_from_sim no)
    (at 25.4 116.84 0)
    (effects
      (font
        (size 2.54 2.54)
      )
      (justify left bottom)
    )
    (uuid "text-protect-3")
  )

  (text "Z60-Z79: 5.1V Zener (overvoltage protection)"
    (exclude_from_sim no)
    (at 25.4 121.92 0)
    (effects
      (font
        (size 2.54 2.54)
      )
      (justify left bottom)
    )
    (uuid "text-protect-4")
  )

  (text "PULL-UP/PULL-DOWN OPTIONS:"
    (exclude_from_sim no)
    (at 25.4 139.7 0)
    (effects
      (font
        (size 2.54 2.54)
        (bold yes)
      )
      (justify left bottom)
    )
    (uuid "text-pullup-header")
  )

  (text "R80-R99: 10K pull-up to +5V (optional)"
    (exclude_from_sim no)
    (at 25.4 149.86 0)
    (effects
      (font
        (size 2.54 2.54)
      )
      (justify left bottom)
    )
    (uuid "text-pullup-1")
  )

  (text "Configured via solder jumper or 0R resistor"
    (exclude_from_sim no)
    (at 25.4 154.94 0)
    (effects
      (font
        (size 2.54 2.54)
      )
      (justify left bottom)
    )
    (uuid "text-pullup-2")
  )

  (text "ADC CONFIGURATION:"
    (exclude_from_sim no)
    (at 177.8 43.18 0)
    (effects
      (font
        (size 2.54 2.54)
        (bold yes)
      )
      (justify left bottom)
    )
    (uuid "text-adc-header")
  )

  (text "ADC1: Channels 0-7 (8 inputs)"
    (exclude_from_sim no)
    (at 177.8 53.34 0)
    (effects
      (font
        (size 2.54 2.54)
      )
      (justify left bottom)
    )
    (uuid "text-adc1")
  )

  (text "ADC2: Channels 8-13 (6 inputs)"
    (exclude_from_sim no)
    (at 177.8 58.42 0)
    (effects
      (font
        (size 2.54 2.54)
      )
      (justify left bottom)
    )
    (uuid "text-adc2")
  )

  (text "ADC3: Channels 14-19 (6 inputs)"
    (exclude_from_sim no)
    (at 177.8 63.5 0)
    (effects
      (font
        (size 2.54 2.54)
      )
      (justify left bottom)
    )
    (uuid "text-adc3")
  )

  (text "Resolution: 12-bit (4096 steps)"
    (exclude_from_sim no)
    (at 177.8 73.66 0)
    (effects
      (font
        (size 2.54 2.54)
      )
      (justify left bottom)
    )
    (uuid "text-adc-res")
  )

  (text "Sample rate: 1kHz per channel"
    (exclude_from_sim no)
    (at 177.8 78.74 0)
    (effects
      (font
        (size 2.54 2.54)
      )
      (justify left bottom)
    )
    (uuid "text-adc-rate")
  )

  (text "DMA transfer for low CPU load"
    (exclude_from_sim no)
    (at 177.8 83.82 0)
    (effects
      (font
        (size 2.54 2.54)
      )
      (justify left bottom)
    )
    (uuid "text-adc-dma")
  )

  (text "FREQUENCY INPUT NOTES:"
    (exclude_from_sim no)
    (at 177.8 101.6 0)
    (effects
      (font
        (size 2.54 2.54)
        (bold yes)
      )
      (justify left bottom)
    )
    (uuid "text-freq-header")
  )

  (text "4 channels with EXTI interrupt"
    (exclude_from_sim no)
    (at 177.8 111.76 0)
    (effects
      (font
        (size 2.54 2.54)
      )
      (justify left bottom)
    )
    (uuid "text-freq-1")
  )

  (text "Schmitt trigger input conditioning"
    (exclude_from_sim no)
    (at 177.8 116.84 0)
    (effects
      (font
        (size 2.54 2.54)
      )
      (justify left bottom)
    )
    (uuid "text-freq-2")
  )

  (text "0-10kHz measurement range"
    (exclude_from_sim no)
    (at 177.8 121.92 0)
    (effects
      (font
        (size 2.54 2.54)
      )
      (justify left bottom)
    )
    (uuid "text-freq-3")
  )

  (global_label "AIN0"
    (shape input)
    (at 50.8 175.26 180)
    (fields_autoplaced yes)
    (effects
      (font
        (size 1.27 1.27)
      )
      (justify right)
    )
    (uuid "glabel-ain0")
    (property "Intersheetrefs" "${INTERSHEET_REFS}"
      (at 44.34 175.26 0)
      (effects
        (font
          (size 1.27 1.27)
        )
        (justify right)
        (hide yes)
      )
    )
  )

  (global_label "ADC1_IN0"
    (shape output)
    (at 127.0 175.26 0)
    (fields_autoplaced yes)
    (effects
      (font
        (size 1.27 1.27)
      )
      (justify left)
    )
    (uuid "glabel-adc1-in0")
    (property "Intersheetrefs" "${INTERSHEET_REFS}"
      (at 138.6038 175.26 0)
      (effects
        (font
          (size 1.27 1.27)
        )
        (justify left)
        (hide yes)
      )
    )
  )

  (global_label "+5V"
    (shape input)
    (at 88.9 165.1 90)
    (fields_autoplaced yes)
    (effects
      (font
        (size 1.27 1.27)
      )
      (justify left)
    )
    (uuid "glabel-5v-pullup")
    (property "Intersheetrefs" "${INTERSHEET_REFS}"
      (at 88.9 158.6 0)
      (effects
        (font
          (size 1.27 1.27)
        )
        (justify left)
        (hide yes)
      )
    )
  )

  (global_label "GND"
    (shape input)
    (at 88.9 185.42 270)
    (fields_autoplaced yes)
    (effects
      (font
        (size 1.27 1.27)
      )
      (justify right)
    )
    (uuid "glabel-gnd")
    (property "Intersheetrefs" "${INTERSHEET_REFS}"
      (at 88.9 191.8738 0)
      (effects
        (font
          (size 1.27 1.27)
        )
        (justify right)
        (hide yes)
      )
    )
  )
)
